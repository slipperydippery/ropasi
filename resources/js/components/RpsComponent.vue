<template>
    <div class="rps-component position-relative">
        <div class="row w-100 overflow-hidden h-100">
            <div class="col-2 wincountcontainer d-flex flex-column justify-content-center align-items-center">
                <span class="contestant"> Computer </span>
                <span class="wincounter">{{ computerwins }}</span>
            </div>
            <div class="col-8 d-flex flex-column justify-content-center align-items-center h-100">
                <svg class="img-fluid" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
                     width="656.061px" height="656.094px" viewBox="0 0 656.061 656.094" enable-background="new 0 0 656.061 656.094"
                     xml:space="preserve">
                    <g id="scissors" @click="inputrps(3)" class="ropasicontainer clickable" :class="{'enabled': active && ! animating}">
                        <path id="scissorsback" class="ropasiback" fill="#D2D2D2"
                              :class="scissorBack"
                              d="M329.983,335.432L148.72,413.934l15.192,197.658l-0.597,0.046
                            c48.442,28.247,104.727,44.456,164.732,44.456c177.679,0,322.806-141.992,327.896-318.462L494.571,448.107L329.983,335.432z"/>
                                            <g>
                            <path fill="#F2F2F2" d="M311.23,471.905l16.648,10.87c-6.344-14.231-13.627-29.548-20.404-42.138
                                c-3.287-6.119-6.273-10.51-9.12-14.769l12.743,44.56C311.224,470.908,311.272,471.408,311.23,471.905z"/>
                                                <path fill="#F2F2F2" d="M350.292,535.384c-2.209-3.059-3.23-5.555-3.766-7.113c-3.014-0.247-5.196-0.419-7.371-0.532
                                c0.445,1.096,0.789,2.209,1.063,3.353c1.264,5.146,1.076,10.454,1.076,17.851c0,3.554,2.984,13.471,3.893,15.43
                                c3.397,7.354,9.205,15.827,15.032,22.955c5.8,7.092,11.95,12.893,14.895,14.766c2.75,1.715,5.906,2.684,9.138,2.684
                                c5.986,0,11.301-2.979,14.493-8.055c5.037-8.045,2.607-18.689-5.245-23.624h-0.128v-0.13c-1.841-1.324-4.233-3.567-7.118-6.848
                                c-2.885-3.275-5.949-7.295-7.908-11.539c-2.515-5.426-6.771-9.349-11.816-9.936v-0.133
                                C358.87,544.271,353.342,539.639,350.292,535.384z M357.405,550.149c1.692-0.792,3.494-1.207,5.365-1.207
                                c5.02,0,9.58,2.943,11.677,7.516c2.007,4.336,5.564,9.18,8.988,13.016c3.423,3.844,7.161,6.947,7.651,7.249
                                c5.981,3.757,7.777,11.733,4.024,17.713c-2.35,3.754-6.45,6.042-10.86,6.042c-2.42,0-4.799-0.722-6.845-2.01
                                c-3.491-2.188-8.118-6.2-13.027-11.677c-4.901-5.479-9.924-12.323-13.285-19.597c-1.425-3.084-1.589-6.588-0.399-9.797
                                C351.861,554.199,354.304,551.577,357.405,550.149z"/>
                                                <path fill="#F2F2F2" d="M418.606,510.292c-9.403,0-18.663,7.517-18.663,7.517l-1.199,1.067h-1.614c-1.796,0-2.977-0.301-4.974-0.8
                                c-1.998-0.499-4.495-1.196-7.247-2.016c-5.482-1.638-12.24-3.874-18.781-6.037c-13.09-4.328-25.372-8.594-25.372-8.594
                                l-0.538-0.269l-0.402-0.267l-78.375-51.666c0.943,1.207,1.288,2.028,2.415,3.35c7.073,8.339,17.417,18.736,28.052,28.719
                                c20.809,19.555,41.762,36.949,42.678,37.719c1.566,0.03,10.835,0.14,23.354,1.742c13.536,1.727,28.91,4.504,37.715,12.084
                                l0.268,0.127c6.75,5.775,11.235,8.814,14.362,10.201c3.169,1.41,5.036,1.475,8.323,1.475c9.533,0,17.171-7.643,17.171-17.178
                                C435.777,517.931,428.139,510.292,418.606,510.292z M332.709,510.292c-2.371,0-4.294-1.923-4.294-4.298
                                c0-2.373,1.923-4.295,4.294-4.295c2.368,0,4.29,1.922,4.29,4.295C337,508.37,335.078,510.292,332.709,510.292z M418.606,540.354
                                c-7.075,0-12.893-5.821-12.893-12.887c0-7.063,5.817-12.883,12.893-12.883c7.058,0,12.879,5.82,12.879,12.883
                                C431.485,534.533,425.664,540.354,418.606,540.354z"/>
                                                <path fill="#010101" d="M418.606,501.7c-11.81,0-20.042,6.367-22.42,8.324c-0.456-0.084-0.804-0.105-2.016-0.405
                                c-1.777-0.448-4.16-1.081-6.848-1.881c-5.342-1.591-12.01-3.752-18.521-5.901c-12.846-4.254-24.69-8.365-24.953-8.454
                                c-0.004-0.001-0.268-0.138-0.268-0.138l-2.548-1.607c0-0.047,0-0.094,0-0.139l-0.139-0.131
                                c-7.381-17.145-16.941-38.235-25.905-54.896c-4.475-8.319-8.78-15.463-12.746-20.665c-1.978-2.602-3.733-4.73-5.768-6.305
                                c-1.527-1.186-3.446-2.309-5.649-2.414c-0.719-0.043-1.495,0.044-2.278,0.266l-4.15,1.207l1.198,4.162l14.896,51.934
                                l-46.972-31.003l-3.479-2.276l-2.418,3.355c-1.39,1.938-1.431,4.328-1.077,6.168c0.355,1.852,1.044,3.579,2.015,5.373
                                c1.957,3.578,4.975,7.537,8.729,11.944c7.473,8.81,17.962,19.158,28.706,29.258c17.204,16.148,31.957,28.739,38.388,34.225
                                c0.045,0.031,0.098,0.095,0.141,0.128c0.042,0.098,0.085,0.183,0.132,0.271c0.157,0.193,0.343,0.372,0.534,0.537
                                c4.204,4.195,5.836,6.904,6.717,10.469c0.868,3.566,0.803,8.387,0.803,15.836c0,6.822,2.935,15.113,4.69,18.924
                                c3.882,8.385,9.939,17.277,16.108,24.832c6.173,7.545,12.176,13.719,17.05,16.769c4.089,2.568,8.858,3.896,13.692,3.896
                                c8.878,0,17.145-4.545,21.864-12.078c7.457-11.885,3.817-27.625-7.783-35.164c-0.022-0.018,0.025-0.115,0-0.134
                                c-0.007-0.006-0.249-0.124-0.264-0.135c-0.366-0.296-2.9-2.556-5.371-5.367c-2.569-2.913-5.231-6.628-6.572-9.526
                                c-3.401-7.363-9.714-13.869-18.525-14.898h-0.268h-0.265c-4.622,0-7.59-2.576-9.805-5.633c-0.246-0.361-0.445-0.725-0.658-1.08
                                c0.077,0.012,0.165-0.014,0.26,0c12.98,1.662,27.771,5.301,33.158,9.936c7.24,6.229,12.312,9.693,16.769,11.676
                                c4.459,1.98,8.253,2.277,11.815,2.277c14.169,0,25.762-11.588,25.762-25.768S432.775,501.7,418.606,501.7z M298.354,425.869
                                c2.847,4.259,5.833,8.649,9.12,14.769c6.777,12.59,14.061,27.906,20.404,42.138l-16.648-10.87
                                c0.042-0.497-0.006-0.997-0.133-1.477L298.354,425.869z M366.528,544.512v0.133c5.045,0.587,9.302,4.51,11.816,9.936
                                c1.959,4.244,5.023,8.264,7.908,11.539c2.885,3.28,5.277,5.523,7.118,6.848v0.13h0.128c7.853,4.935,10.282,15.579,5.245,23.624
                                c-3.192,5.076-8.507,8.055-14.493,8.055c-3.231,0-6.388-0.969-9.138-2.684c-2.944-1.873-9.095-7.674-14.895-14.766
                                c-5.827-7.128-11.635-15.602-15.032-22.955c-0.908-1.959-3.893-11.876-3.893-15.43c0-7.396,0.188-12.705-1.076-17.851
                                c-0.273-1.144-0.617-2.257-1.063-3.353c2.175,0.113,4.357,0.285,7.371,0.532c0.535,1.559,1.557,4.055,3.766,7.113
                                C353.342,539.639,358.87,544.271,366.528,544.512z M418.606,544.645c-3.287,0-5.154-0.064-8.323-1.475
                                c-3.127-1.387-7.612-4.426-14.362-10.201l-0.268-0.127c-8.805-7.58-24.179-10.357-37.715-12.084
                                c-12.519-1.603-21.787-1.712-23.354-1.742c-0.916-0.77-21.869-18.164-42.678-37.719c-10.635-9.982-20.979-20.38-28.052-28.719
                                c-1.127-1.321-1.472-2.143-2.415-3.35l78.375,51.666l0.402,0.267l0.538,0.269c0,0,12.282,4.266,25.372,8.594
                                c6.541,2.163,13.299,4.399,18.781,6.037c2.752,0.819,5.249,1.517,7.247,2.016c1.997,0.499,3.178,0.8,4.974,0.8h1.614l1.199-1.067
                                c0,0,9.26-7.517,18.663-7.517c9.533,0,17.171,7.639,17.171,17.175C435.777,537.002,428.139,544.645,418.606,544.645z"/>
                                                <path fill="#010101" d="M351.093,567.194c3.361,7.273,8.384,14.117,13.285,19.597c4.909,5.477,9.536,9.489,13.027,11.677
                                c2.046,1.288,4.425,2.01,6.845,2.01c4.41,0,8.511-2.288,10.86-6.042c3.753-5.979,1.957-13.956-4.024-17.713
                                c-0.49-0.302-4.229-3.405-7.651-7.249c-3.424-3.836-6.981-8.68-8.988-13.016c-2.097-4.572-6.657-7.516-11.677-7.516
                                c-1.871,0-3.673,0.415-5.365,1.207c-3.101,1.428-5.544,4.05-6.711,7.248C349.504,560.606,349.668,564.11,351.093,567.194z
                                 M358.739,560.348c0.408-1.109,1.1-1.925,2.156-2.417h0.134c0.58-0.271,1.098-0.399,1.741-0.399c1.653,0,3.196,1.045,3.898,2.549
                                c2.584,5.601,6.529,10.784,10.328,15.031c3.795,4.254,6.971,7.256,9.527,8.861c2.046,1.281,2.619,3.867,1.344,5.902
                                c-0.806,1.292-2.099,2.016-3.617,2.016c-0.826,0-1.606-0.242-2.29-0.67c-2.108-1.328-6.783-5.189-11.265-10.201
                                c-4.5-5.018-8.983-11.313-11.815-17.449C358.383,562.493,358.333,561.456,358.739,560.348z"/>
                                                <path fill="#010101" d="M332.709,501.7c-2.371,0-4.294,1.922-4.294,4.295c0,2.375,1.923,4.298,4.294,4.298
                                c2.368,0,4.29-1.923,4.29-4.298C337,503.622,335.078,501.7,332.709,501.7z"/>
                                                <path fill="#010101" d="M418.606,514.584c-7.075,0-12.893,5.82-12.893,12.883c0,7.065,5.817,12.887,12.893,12.887
                                c7.058,0,12.879-5.821,12.879-12.887C431.485,520.405,425.664,514.584,418.606,514.584z M418.606,531.762
                                c-2.423,0-4.299-1.871-4.299-4.295c0-2.422,1.876-4.292,4.299-4.292c2.422,0,4.295,1.87,4.295,4.292
                                C422.901,529.891,421.028,531.762,418.606,531.762z"/>
                        </g>
                    </g>
                    <g id="paper" @click="inputrps(2)" class="ropasicontainer clickable" :class="{'enabled': active && ! animating}">
                        <path id="paperback" class="ropasiback" fill="#D2D2D2"
                              :class="paperBack"
                              d="M323.075,327.526l17.751-202.18L167.287,42.183C67.518,98.511,0,205.535,0,328.047
                            C0,444.796,61.316,547.479,153.424,605.63l-15.221-198.04L323.075,327.526z"/>
                                            <g>
                            <path fill="#FFFFFF" d="M210.52,290.496c0.404,0.07,0.8,0.207,1.163,0.391c0.137,0.037,0.262,0.081,0.393,0.126
                                c0.333,0.212,0.64,0.475,0.904,0.777c0.267,0.314,0.482,0.657,0.644,1.037c0.292,0.517,0.467,1.086,0.518,1.681
                                c0.014,0.531-0.075,1.057-0.258,1.55c-0.075,0.136-0.164,0.261-0.26,0.391c-0.037,0.127-0.075,0.26-0.125,0.384
                                c-0.082,0.14-0.166,0.264-0.259,0.393c-0.79,0.983-1.979,1.548-3.237,1.548c-2.859,0-5.813,1.737-8.28,5.436
                                c-2.458,3.7-4.138,9.186-4.138,15.263s1.68,11.562,4.138,15.255c2.466,3.706,5.421,5.434,8.28,5.434c0.174,0,0.348,0.004,0.518,0
                                c15.716-0.27,28.46-13.186,28.46-28.969v-161.42H106.527V286.36v4.135h103.475C210.176,290.488,210.35,290.488,210.52,290.496z"/>
                                                <path fill="#FFFFFF" d="M195.776,298.772H94.116c-2.863,0-5.813,1.737-8.28,5.436c-2.466,3.7-4.14,9.186-4.14,15.263
                                s1.674,11.562,4.14,15.255c2.466,3.706,5.417,5.434,8.28,5.434h101.66c-0.26-0.343-0.661-0.543-0.904-0.903
                                c-3.54-5.304-5.561-12.203-5.561-19.785c0-7.585,2.021-14.483,5.561-19.788C195.115,299.315,195.516,299.125,195.776,298.772z"/>
                                                <path fill="#010101" d="M243.111,141.498H102.392c-0.13-0.006-0.258-0.006-0.39,0c-0.125-0.006-0.259-0.006-0.384,0
                                c-1.98,0.375-3.399,2.124-3.365,4.136V286.36h8.274V149.771H238.98v161.42c0,15.783-12.744,28.699-28.46,28.969
                                c-0.169,0.004-0.343,0-0.518,0c-2.859,0-5.813-1.728-8.28-5.434c-2.458-3.693-4.138-9.177-4.138-15.255s1.68-11.563,4.138-15.263
                                c2.466-3.699,5.421-5.436,8.28-5.436c1.258,0,2.447-0.565,3.237-1.548c0.093-0.129,0.177-0.253,0.259-0.393
                                c0.051-0.124,0.089-0.256,0.125-0.384c0.096-0.129,0.185-0.254,0.26-0.391c0.183-0.493,0.272-1.02,0.258-1.55
                                c-0.051-0.594-0.226-1.164-0.518-1.681c-0.162-0.38-0.377-0.723-0.644-1.037c-0.264-0.302-0.571-0.564-0.904-0.777
                                c-0.131-0.046-0.256-0.089-0.393-0.126c-0.363-0.184-0.759-0.32-1.163-0.391c-0.169-0.008-0.343-0.008-0.518,0H94.116
                                c-6.25,0-11.598,3.879-15.137,9.188c-3.533,5.305-5.562,12.203-5.562,19.788c0,7.583,2.028,14.481,5.562,19.785
                                c3.539,5.306,8.886,9.184,15.137,9.184h115.886c0.136,0,0.256,0.002,0.393,0c20.286-0.206,36.862-16.913,36.862-37.249V145.634
                                C247.257,143.349,245.408,141.498,243.111,141.498z M194.872,339.256c0.243,0.36,0.644,0.561,0.904,0.903H94.116
                                c-2.863,0-5.813-1.728-8.28-5.434c-2.466-3.693-4.14-9.177-4.14-15.255s1.674-11.563,4.14-15.263
                                c2.466-3.699,5.417-5.436,8.28-5.436h101.66c-0.26,0.353-0.661,0.542-0.904,0.911c-3.54,5.305-5.561,12.203-5.561,19.788
                                C189.311,327.054,191.333,333.953,194.872,339.256z"/>
                        </g>
                    </g>
                    <g id="rock" @click="inputrps(1)" class="ropasicontainer clickable" :class="{'enabled': active && ! animating}">
                        <path :disabled="!active" id="rockback" class="ropasiback"
                              :class="rockBack"
                              d="M328.047,0c-53.974,0-104.94,13.11-149.896,36.301l173.242,83.021l-18.11,206.25
                            l161.287,110.415l161.49-110.554C654.649,145.749,508.059,0,328.047,0z"/>
                                            <g>
                            <path fill="#FFFFFF" d="M504.063,168.882c0.345-4.05-0.242-10.218-1.763-15.339c-1.997-0.678-10.926-3.236-10.926-3.236
                                c-1.531,0.627-28.465,13.571-40.708,13.571c-2.651,0-26.193-1.427-27.721-1.19c-2.264,0.347-22.13,24.709-22.412,25.087
                                c-0.214,1.218,3.898,29.696,0,38.036c-1.653,3.519-3.613,6.275-5.309,8.569c-1.412,1.888-2.841,3.737-3.237,5.001
                                c-0.856,2.605,3.418,29.34,2.648,34.219c1.944,3.047,3.902,5.832,7.382,7.959c10.778,6.657,25.633-6.893,34.501-12.101
                                c2.656-1.542,12.411,1.503,15.337,1.188c3.815-0.412,11.24-12.664,11.197-17.091c-0.054-8.212,6.884-11.558,14.173-12.984
                                c4.784-0.951,16.863-6.763,20.342-8.264c9.679-4.159,8.337-10.569,5.611-18.575c-3.074-9.032,5.351-16.331,5.324-25.369
                                C508.47,184.529,503.751,172.565,504.063,168.882z M428.551,251.766c-1.395,6.278-11.943,0.861-18.87-7.678
                                c-3.877-4.764,5.516-9.434,6.486-11.191c0.915-1.662,1.973-8.853,5.608-8.853c6.58,0,11.086,5.239,15.34,12.102
                                C440.04,240.864,429.999,245.284,428.551,251.766z M484.019,206.635c0.021,2.927-13.348,7.569-16.224,10.336
                                c-2.948,2.809-5.572,7.287-10.333,7.073c-9.648-0.439-4.817-11.444-5.606-17.104c-0.558-4.086-5.529-10.004-2.354-17.692
                                c2.53-2.43,7.891-3.063,10.915-5.027c2.114-1.382,8.78-7.538,13.573-7.663c0.67-0.019,1.475,0.03,2.046,0.307
                                c5.981,2.641,0.619,10.314,5.308,14.149C483.559,192.803,486.382,202.12,484.019,206.635z"/>
                                                <path fill="#010101" d="M421.776,224.044c-3.636,0-4.693,7.19-5.608,8.853c-0.971,1.758-10.363,6.428-6.486,11.191
                                c6.927,8.539,17.476,13.956,18.87,7.678c1.447-6.482,11.488-10.902,8.564-15.62C432.862,229.284,428.356,224.044,421.776,224.044z
                                "/>
                                                <path fill="#010101" d="M476.037,176.864c-0.571-0.276-1.376-0.325-2.046-0.307c-4.793,0.125-11.459,6.281-13.573,7.663
                                c-3.024,1.964-8.385,2.598-10.915,5.027c-3.176,7.688,1.796,13.606,2.354,17.692c0.789,5.66-4.042,16.665,5.606,17.104
                                c4.761,0.214,7.385-4.265,10.333-7.073c2.876-2.767,16.244-7.409,16.224-10.336c2.363-4.516-0.46-13.832-2.675-15.622
                                C476.656,187.178,482.018,179.504,476.037,176.864z"/>
                                                <path fill="#010101" d="M543.004,230.833c-3.706-7.344,0.446-8.683,4.119-14.465c2.303-3.573-3.357-19.661-5.002-22.117
                                c-1.244-1.816,2.22-13.884,2.049-17.693c-0.338-7.191-5.152-9.69-10.899-12.1c-7.553-3.166-9.589-6.176-8.862-13.869
                                c1.54-16.405-28.609-20.928-28.609-20.928c-5.922,0-35.084,14.737-45.133,14.737c-2.471,0-29.621-1.954-32.145-1.168
                                c-8.491,2.626-32.654,30.457-36.563,38.343c-2.915,5.887,3.659,32.998,0.883,38.938c-2.702,5.792-7.951,9.766-10.025,16.223
                                c-2.836,8.716,4.707,33.225,1.166,45.71c-3.515,12.487,4.939,20.245,17.701,22.719c4.137,0.802,23.644,11.499,33.933,11.499
                                c15.31,0,29.764-11.047,44.535-14.15c4.266-0.916,54.375-6.49,58.68-14.169c4.754-8.427,15.502-9.253,18.896-18.579
                                c2.438-6.792,2.29-14.077,1.47-21.529C548.353,240.748,546.189,237.218,543.004,230.833z M503.179,213.733
                                c2.726,8.006,4.067,14.416-5.611,18.575c-3.479,1.501-15.558,7.313-20.342,8.264c-7.289,1.427-14.227,4.772-14.173,12.984
                                c0.043,4.427-7.382,16.679-11.197,17.091c-2.926,0.314-12.681-2.73-15.337-1.188c-8.868,5.208-23.723,18.758-34.501,12.101
                                c-3.479-2.127-5.438-4.912-7.382-7.959c0.77-4.879-3.505-31.613-2.648-34.219c0.396-1.264,1.825-3.113,3.237-5.001
                                c1.695-2.294,3.655-5.051,5.309-8.569c3.898-8.34-0.214-36.818,0-38.036c0.282-0.378,20.148-24.74,22.412-25.087
                                c1.527-0.236,25.069,1.19,27.721,1.19c12.243,0,39.177-12.944,40.708-13.571c0,0,8.929,2.559,10.926,3.236
                                c1.521,5.121,2.107,11.289,1.763,15.339c-0.312,3.683,4.407,15.646,4.44,19.481C508.53,197.402,500.105,204.701,503.179,213.733z"
                                                />
                        </g>
                    </g>
                </svg>
                <br>
            </div>
            <div class="col-2 wincountcontainer d-flex flex-column justify-content-center align-items-center">
                <span class="contestant"> You </span>
                <span class="wincounter">{{ humanwins }}</span>
            </div>
        </div>
        <div class="depthviewer d-flex ">
            <div @click="setActivechoice(1)" class="choice clickable" :class="{'activechoice': nbsamplelength == 1}">1</div>
            <div @click="setActivechoice(2)" class="choice clickable" :class="{'activechoice': nbsamplelength == 2}">2</div>
            <div @click="setActivechoice(3)" class="choice clickable" :class="{'activechoice': nbsamplelength == 3}">3</div>
            <div @click="setActivechoice(10)" class="choice clickable" :class="{'activechoice': nbsamplelength == 10}">full</div>
        </div>
        <div class="resultnotification scale-in-center" v-if="animating">
            <span class="humanresult" :class="{ 'win': result == 'win', 'lose': result == 'lose', 'tie': result == 'tie' }"> {{ humanresult }} </span>
        </div>
    </div>
</template>

<script>
    export default {
        name: "RpsComponent",

        props: [
            'rps_id'
        ],

        data() {
            return {
                nbsamplelength: 2,
                active: true,
                animating: false,
                calculatedguess: null,
                computerguess: null,
                nextguess: null,
                computerwins: 0,
                humanwins: 0,
                humanresult: '',
                humanguess: null,
                result: '',
                guiresult: {
                    rock: '',
                    paper: '',
                    scissors: ''
                }
            }
        },

        mounted() {
            this.guessRPS();
        },

        computed: {
            scissorBack() {
                if(this.guiresult.scissors == 'tie'){return 'tie'}
                if(this.humanguess == 3) { return 'humanguess' }
                if(this.computerguess == 3) { return 'computerguess' }
            },

            paperBack() {
                if(this.guiresult.paper == 'tie'){return 'tie'}
                if(this.humanguess == 2) { return 'humanguess' }
                if(this.computerguess == 2) { return 'computerguess' }
            },

            rockBack() {
                if(this.guiresult.rock == 'tie'){return 'tie'}
                if(this.humanguess == 1) { return 'humanguess' }
                if(this.computerguess == 1) { return 'computerguess' }
            },
        },

        methods: {
            inputrps(input){
                if(! this.active ) { return}
                // this.calculatedguess = null;
                this.humanguess = input;
                this.computerguess = this.nextguess;
                this.active = false;
                this.animating = true;
                var home = this;
                setTimeout(function(){ home.animating = false; }, 1000);
                this.sendGuess( this.calculateResult(input) );
            },

            calculateResult(guess) {
                var result = null;
                switch(guess + '' + this.nextguess) {
                    case '11':
                        result = 'a'
                        this.humanresult = "tie!"
                        this.result = 'tie';
                        this.guiresult = {rock: 'tie', paper: '', scissors: ''}
                        break;
                    case '12':
                        result = 'b'
                        this.humanresult = "lose!"
                        this.result = 'lose'
                        this.guiresult = {rock: 'lose', paper: 'win', scissors: ''}
                        this.computerwins++
                        break;
                    case '13':
                        result = 'c'
                        this.humanresult = "win!"
                        this.result = 'win'
                        this.guiresult = {rock: 'win', paper: '', scissors: 'lose'}
                        this.humanwins++
                        break;
                    case '21':
                        result = 'd'
                        this.humanresult = "win!"
                        this.result = 'win'
                        this.guiresult = {rock: 'lose', paper: 'win', scissors: ''}
                        this.humanwins++
                        break;
                    case '22':
                        result = 'e'
                        this.humanresult = "tie!"
                        this.result = 'tie'
                        this.guiresult = {rock: '', paper: 'tie', scissors: ''}
                        break;
                    case '23':
                        result = 'f'
                        this.humanresult = "lose!"
                        this.result = 'lose'
                        this.guiresult = {rock: '', paper: 'lose', scissors: 'win'}
                        this.computerwins++
                        break;
                    case '31':
                        result = 'g'
                        this.humanresult = "lose!"
                        this.result = 'lose'
                        this.guiresult = {rock: 'win', paper: '', scissors: 'lose'}
                        this.computerwins++
                        break;
                    case '32':
                        result = 'h'
                        this.humanresult = "win!"
                        this.result = 'win'
                        this.guiresult = {rock: '', paper: 'lose', scissors: 'win'}
                        this.humanwins++
                        break;
                    case '33':
                        result = 'i'
                        this.humanresult = "tie!"
                        this.result = 'tie'
                        this.guiresult = {rock: '', paper: '', scissors: 'tie'}
                        break;
                    default:
                        result = 'error'
                }
                return result
            },

            sendGuess(result) {
                var home = this;
                axios.patch('/api/ropasi/' + this.rps_id, {
                    guess: this.humanguess,
                    result: result,
                    nbsamplelength: this.nbsamplelength
                })
                    .then( response => {
                        var number = response.data;
                        var guide = String(number).charAt(4)
                        this.calculatedguess = Number(guide)
                        // this.calculatedguess = response.data
                        this.active = true
                        this.guessRPS();
                    } )
            },

            guessRPS() {
                if(! this.calculatedguess){
                    console.log('calculating')
                    this.nextguess = Math.floor(Math.random() * 3) + 1;
                    return
                }
                this.nextguess = this.calculatedguess;
            },

            readableRPS(guess){
                switch(guess){
                    case 1:
                        return 'rock'
                    case 2:
                        return 'paper'
                    case 3:
                        return 'scissors'
                    default:
                        return 'error'
                }
            },

            setActivechoice(choice) {
                this.nbsamplelength = choice;
            }
        }
    }
</script>
